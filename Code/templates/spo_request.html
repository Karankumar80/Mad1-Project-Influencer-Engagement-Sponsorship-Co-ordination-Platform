<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <title>Send Request</title>
</head>
<body style="background-color: rgb(236, 222, 224);">

  <div class="container mt-3 pt-3 mb-3" style="box-shadow: 0px 0px 20px rgba(0,0,0.1);  border-radius: 8px; background-color: white;">
    {% include 'nav_sponsor.html' %}

    <div class="container mt-3">
      <h2>Request</h2>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table table-striped">
              <thead>
                  <tr>
                      <th>ID</th>
                      <th>Influencer Name</th>
                      <th>Campaign</th>
                      <th>Message</th>
                      <th>Status</th>
                      <th>Actions</th>
                  </tr>
              </thead>
              <tbody>
                  
                

                    <p>Total request are: {{total}}</p>

                    {% for req in requests %}
                        <tr>
                            <td>{{loop.index}}</td>
                            <td>{{req.influencer.user.Name}}</td>
                            <td>{{req.campaign.name}}</td>
                            <td>{{req.messages}}</td>
                            


                            {% if req.status == 'Pending' %}
                            <td><span class="badge badge-warning">Pending</span></td>
                            
                            
                            <td>
                                <a href="{{url_for('accept_req',id=req.id,user_id=user.id)}}" class="btn btn-success btn-sm">Accept</a>
                                <a href="{{url_for('reject_req',id=req.id,user_id=user.id)}}" class="btn btn-danger btn-sm">Reject</a>
                                
                                
                            </td>

                            {% elif req.status=='Accepted' %}
                            <td><span class="badge badge-success">Accepted</span></td>
                            
                           

                            {% else %}
                            <td><span class="badge badge-danger">Rejected</span></td>
                            {% endif %}
                        </tr>


                        


                    {% endfor %}
                  
              </tbody>
          </table>
      </div>
      </div>
    </div>

  </div>
    
</body>
</html>




